(function(a){a.fn.mimikslide=function(b){b=a.extend({container:a(this),buttonleft:a(".left"),buttonright:a(".right"),randomize:false,slidespeed:500,autoslide:false,direction:"right",pause:1000,keysupport:true},b);return this.each(function(){var j=b.container;var i=b.buttonleft;var n=b.buttonright;var f=b.randomize;var e=b.slidespeed;var q=b.easingtype;var o=b.autoslide;var t=b.direction;var h=b.pause;var p=b.keysupport;var s=j.children("ul");var d=s.children("li").width();var k=s.children("li").length;var u=(k-1)*d;s.css("width",(k)*d+"px");s.children("li:first").addClass("current");var m=s.children("li.current").height();j.height(m);var c=1;var l=2;function g(){var v=s.children("li").slice(c,l);var w=a(s).css("margin-left").replace("px","");if(w==-u){a(n).unbind("click");c=2;l=3;s.children("li:first").before(s.children("li:last"));a(s).css("marginLeft","0");a(s).animate({marginLeft:"-="+d},e,function(){s.children("li").removeClass("current");s.children("li").eq(1).addClass("current");w=0;var x=s.children("li.current").height();j.animate({height:x},e,function(){a(n).bind("click",g)})})}else{a(n).unbind("click");c++;l++;s.children("li").removeClass("current");v.addClass("current");a(s).animate({marginLeft:"-="+d},e,function(){var x=s.children("li.current").height();j.animate({height:x},e,function(){a(n).bind("click",g)})})}}function r(){var w=a(s).css("margin-left").replace("px","");if(w==0){a(i).unbind("click");c=k;l=k+1;var v=s.children("li").slice(c-1,l-1);s.children("li:last").after(s.children("li:first"));a(s).css("marginLeft",-u+"px");a(s).animate({marginLeft:"+="+d},e,function(){s.children("li").removeClass("current");v.addClass("current");c-=1;l-=1;var x=s.children("li.current").height();j.animate({height:x},e,function(){a(i).bind("click",r)})})}else{a(i).unbind("click");if(c==1||c<1){}else{c-=1;l-=1}var v=s.children("li").slice(c-1,l-1);a(s).animate({marginLeft:"+="+d},e,function(){s.children("li").removeClass("current");v.addClass("current");var x=s.children("li.current").height();j.animate({height:x},e,function(){a(i).bind("click",r)})})}return false}a(function(){a(n).bind("click",g);a(i).bind("click",r);if(f==true){a(s).each(function(){var x=a(this);var y=x.children("li");y.sort(function(A,z){var B=parseInt(Math.random()*10);var C=B%2;var D=B>4?1:-1;return(C*D)}).appendTo(x)})}if(o==true){var w;a(function(){w=setTimeout(v,h)});function v(x){if(t=="right"){g()}else{if(t=="left"){r()}}w=setTimeout(v,h)}}});if(p==true){a(document).keydown(function(v){if(v.keyCode==37){a(i).click();return false}if(v.keyCode==39){a(n).click();return false}})}})}})(jQuery);